## 量化交易 ##
由于多数期货交易技术分析有相似之处，目前市场上存在大量使用相似进场点和止损点作为交易指标的量化交易系统。  

冯正平认为，量化交易只是工具，如果迷信量化的历史测试结果，被动等待历史重演，那么将看不到**市场博弈的本质**，结果就必然导致交易程序高度相似。  

“你的交易对手是人，而不是K线图。当你在认真的研究K线图的时候，你的对手在研究你。”  

他表示，市场的任何量化特征都会改变，**唯独博弈本质不会改变**。不能从博弈的视角来审视量化研究，就是在玩数字游戏。目前很多量化研究都是在玩数字游戏，因为他们脱离了市场的本质。  

“很明显，市场上量化交易者的增加，让不同量化交易者之间的竞争更加激烈。”刘先生认为，最初量化交易者的对手是一些主观交易者，量化交易用数据统计和计算机的一致性获得了胜利，但在现阶段，不同量化交易者之间开始通过相互之间的角力，从对方手中争夺利润。  

“要避免被‘反量化’者捕杀，就要建立不同的策略组合，实现不同策略之间的低相关性、异构性与丰富性。”冯正平认为，未来量化交易者要建立行情分析系统，最好要有多种算法分析平台，而不以K线图为唯一分析对象。  

刘先生也认为，未来期货公司资管部门的交易策略将以收益较为稳定的量化交易为主，各个机构**量化模型**之间的比拼将更加激烈。只有充分研究**市场形态**与变化特征，开发出具有不同收益特征的策略组合，才能在竞争中占据一席之地。

## 数据可视化 ##   

- matlab montage  
- 平行坐标  
  
## 收益与胜率、赔率的关系 ## 

胜率 \\(\alpha\\)：  
赔率 \\(\beta\\)：

----------
<div style="float:right;border:solid 5px;margin:1px;">
<img src="https://i.imgur.com/JSgZR1k.jpg"  width="300" height="" >
</div>  
  
由图中的公式可见  

  
- 胜率 × ( 1 + 赔率 ) > 1  : 收益为正  

----------  
重要

## 模型与参数 ##
模型可以理解为交易策略在数学上的术语，也可以称为**策略模型**。
模型选择与参数调优哪个更重要？
模型正确时，对参数的敏感度就会低么？


## 指标的特征是具有 `滞后性` ## 
  
## 形态观察，形态特点 ##
根据不同的形态，采用不同的策略。

<div align=right>
<img src="https://i.imgur.com/6MqfB9m.png" width = "500" height = ""/>
</div>


## 多品种组合 ##
单品种有回撤期，多品种组合就比较重要，可以优化总的资金曲线。

## 公式  <!--Preview in Brower 可正确显示公式--> ##


这是行间公式
$$x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}$$
 
这是行内公式\\(E = mc^2\\)这里是行内公式

 
## 理想的单边行情 ##
在理想的单边行情下，nPeriodBreak越小越好,**当取1时就等于不止损**。
如果单边行情结束，也会始终不止损。

## 设置TB参数的默认优化范围  ##

----------

<div style="float:right;border:solid 1px;margin:1px;">
<img src="https://i.imgur.com/UvvckG6.png" width = "400" height = ""/>
</div>

属性设置

----------

## 道琼斯指数 ##
道琼斯指数最早是在1884年由道琼斯公司的创始人查尔斯·亨利·道（Charles Henry Dow 1851-1902年）开始编制的一种算术**平均股价**指数。道琼斯指数是世界上历史最为悠久的股票指数，它的全称为**股票价格平均指数**。

## 对数化 ##
将指数增长变为线性增长。

迭代式
$$ x = (1+0.3)x $$   
等价于  
$$ y = x_0\cdot1.3^{n} $$  

其对数化后的形式为   
$$ \log\left(x_0\right)+n\cdot\log\left(1.3\right) $$   

变为一条直线，该直线的斜率为 \\(\log_{a}\left(1.3\right)\\)。


## 风险控制 ##
如果亏损50%，则需要盈利100%才能恢复。
如果亏损80%，则需要盈利400%才能恢复。

## 在线作图 ##
Lucidchart
https://www.lucidchart.com

## 止损宽度与胜率 ##

<div style="float:right;margin:1px;">
<img src="https://i.imgur.com/pYSZTlA.png " width = "800" height = ""/>
</div>


----------


## 止损宽度与赔率 ##

<div style="float:right;margin:1px;">
<img src="https://i.imgur.com/DL6DWso.png " width = "400" height = ""/>
</div>

止损变宽时，赔率的分子部分不一定变大。要看趋势能走多远，还要看次级波动的深度。

----------

## 参数的优化方法 ##
以下方法是否可行？
1. 随机入场，优化出场参数。
2. 按照优化好的出场参数，再优化入场参数。

## 根据模型找市场 VS 根据市场找模型 ##
是根据自己已有的策略模型去找市场呢？
还是  
根据市场的形态，想办法寻找策略模型。

## 入场条件和出场条件冲突时的选择 ##
当满足入场条件时，还未达到出场条件怎么办？
1. 等到出场条件满足时，再看入场条件。
2. 入场条件满足时，立即出场并反向入场。
3. 各管各的。比如，场内是多单时仍然持仓，并入场开空单。

## markdown toc ##
生成侧边栏目录  
toc: Table of Contents  
https://github.com/i5ting/tocmd.npm  

运行本笔记文件夹下面的批处理文件 tocmd.bat 
可以生成具有侧边栏目录的html文件。

## 波动的作用 ##

<div style="float:right;margin:1px;">
<img src="https://i.imgur.com/D7r1GLN.png " width = "400" height = ""/>
</div>

如果在每一个波动的拐点上都开对方向，在两条线上的收益相同。
只有


1. 止盈加反趋势
2. 或者反趋势加开仓优先

才能达到这种效果。

----------

## TB 批量导入/导出数据 ##

格式为*.dat  
但不知道具体格式，没法读取与编辑。

论坛上管理员回答都是暂时不提供该数据读取服务  
http://bbs.tb18.net/thread-110691-1-1.html  
http://bbs.tb18.net/thread-18086-1-1.html  
http://bbs.tb18.net/thread-19629-1-1.html  

## TB数据格式为7列 ##
<div style="float:right;margin:1px;">
<img src="https://i.imgur.com/i5kcaVt.png " width = "400" height = ""/>
</div>


1. TB数据格式为7列
2. 它决定了批量导出的DAT文件格式
3. date double double double double int32 int32
4. date 占12个字节
5. 每个合约第一条记录date的前4个字节int32格式放置该合约的记录数。
6. 每条记录为56个字节。
7. 第一个int32占8个字节，其本身占4个字节，补4个字节的0。
8. 最末int32占4个字节。
9. 整个文件的末尾要添加4个字节。
10. ...\future\数据维护\TB批量导入导出\GenerateImportFile.m

----------

<div style="float:right;margin:1px;">
<img src="https://i.imgur.com/314kcGN.png " width = "400" height = ""/>
</div>

导入数据只会覆盖相同日期的数据，原有的其他日期的数据被保留，不会被删除。要想完全清空数据，只能删除商品，然后重新自定义商品，再进行数据导入。

----------

## 确定窗口和按钮的位置 ##
1. 打开Spy++
2. Ctrl+F,打开查找窗口
3. 拖动射击靶图标到窗口或者按钮上
![](https://i.imgur.com/C3LVSd7.png)


## 设置进程的优先级 ##
在MATLAB一段时间不使用后，再次使用时似乎需要一点时间才能进行流畅状态。可能是在其空闲一段时间后，原先占用的资源被系统收回，分配给其他进程使用。

优先级设置时提示拒绝访问，怎么办？
给一个进程设置优先级时，提示说拒绝访问，怎么办？
用管理员模式打开任务管理器。就是你先搜索taskmgr然后再用右键 以管理员身份运行。

## 期货合约最小变动 ##


**最小变动价位**：是指在期货交易所的公开竞价过程中，对合约标的每单位价格报价的最小变动数值。最小变动价位乘以交易单位，就是该合约价格的**最小变动值**。例如，大连商品交易所豆粕期货合约的最小变动价位是1元/吨，即每手合约的**最小变动值**是1元/吨×10吨=10元。  
在期货交易中，每次报价必须是其合约规定的最小变动价位的整数倍。期货合约最小变动价位的确定，通常取决于该合约标的商品的种类、性质、市场价格波动情况和商业规范等。

**报价精度**：最小变动价位的精度。比如黄金的报价最小变动价位为0.05元，报价精度为0.01元，表示精确到小数点后面两位。黄金合约价格的最小变动值为5元。

## MATLAB try ... catch ##
```
try
    outfilename = websave(fileName,url);

catch ErrorInfo % 捕获到的错误是一个MException对象
    disp(ErrorInfo);
    % 发生错误时的其他动作
end
```

## 精易编程助手 ##
它是一个**免安装**软件。功能类似于与 **Microsoft Spy++**
它的功能包括
1. 窗口探测
2. 屏幕取色

## TB 自动操作 ##

自定义商品  
可以用**程序实现**    
...\图像识别\TBcreateContractMain.m  
  
自动批量导入，自动打开工作室。  
C:\D\xyz\future\m\跟踪开仓-记录资金-图像识别-4\图像识别\TBHandle.m  
C:\D\xyz\future\m\跟踪开仓-记录资金-图像识别-4\图像识别\TBHandle1.m  

输入父窗口的句柄和子窗口的标题，来得到子窗口的句柄。  
查找子窗口必须逐层查找，每次只能查找位于下一层的子窗口  
按钮也是一个子窗口，可以通过其父窗口的句柄和按钮标题查找  
C:\D\xyz\future\m\跟踪开仓-记录资金-图像识别-4\图像识别\findChildWin.c  

通过按钮句柄，点击按钮。按钮窗体需要位于屏幕前台。  
C:\D\xyz\future\m\跟踪开仓-记录资金-图像识别-4\图像识别\ClickButton.c  

## matlab 调用外部bat文件 ##
matlab的m文件中调用外部bat文件，并确定bat运行结束以后，再接着运行剩下的代码，这样的m语句怎么写？ 

直接用dos函数执行就可以了。

举例说，如果批处理文件名 test_bat.bat，则
```
[s,e]=dos('test_bat');
```
就会执行批处理文件，**直到其结束才返回**。这里之所以让dos返回两个参数，是为了避免标准输出信息在命令窗口中回显。 

**如果不希望等待执行完毕才返回**，可以在命令后加一个“&”，例如：
```
[s,e]=dos('test_bat &');
```
会打开一个cmd窗口去执行批处理，不需要等待批处理执行完毕就会直接返回，接下来继续执行M文件的后续部分。

## TB工作区的打开顺序 ##
TB工作室的各个工作区打开有固定顺序。可以在第一个打开的工作区加载公式，执行一些预处理工作，比如文件清理等。

## TB中画竖直线 ##
<div style="float:right;margin:1px;">
<img src="https://i.imgur.com/gat4VmK.png " width = "400" height = ""/>
</div>

PlotNumeric ("OpenToClose",Open,Close);  
PlotNumeric ("OpenToClose",Open*0.5,Close*1.5);  
输出开盘价与收盘价的连线。（需要在公式属性的输出线形选择柱状图）


----------

## MATLAB 的 unique 与 table ##
去除重复的行  
列的数据类型不同  
这时需要使用 table 函数。  
```
x = {'a','b','c','a'}';
y = [1 2 3 1; 1 2 3 1]';
t = table(x,y);
[C,IA,IC] = unique(t);
```
t = 

     x       y   
    ___    ______

    'a'    1    1
    'b'    2    2
    'c'    3    3
    'a'    1    1

C = 

     x       y   
    ___    ______

    'a'    1    1
    'b'    2    2
    'c'    3    3


```
x = {'a',1;'b',2;'a',1};  
t  =cell2table(x);  
ut = unique(t);  
```
ut = 

    x1     x2
    ___    __

    'a'    1 
    'b'    2 


## TB 超级图表窗口的句柄 ##
通过子窗口层层查找，可以找到超级图表窗口的句柄。  
...\图像识别\findSuperChartWnd.m

## TB菜单的快捷键 ##

<div style="float:right;margin:1px;">
<img src="https://i.imgur.com/r3z7knT.png " width = "400" height = ""/>
</div>

Alt+字母


----------

## 3GPP ##
http://www.3gpp.org/  

3GPP是个什么组织 为啥5G标准离不开它?  
时光飞逝，转眼到了2017年，从1998年成立以来，3GPP不断扩大、由成员驱动，涉及数百家公司的大量工作和协作，包括网络运营商、终端制造商、芯片制造商、基础设施制造商、学术界、研究机构、政府机构，累积到2017年会议参与者突破6000多人，好家伙，厉害了。  
http://news.mydrivers.com/1/562/562043.htm


## 接入网与核心网 ##
从3G演进到4G，接入网与核心网“整体演进”到4G时代。  
到了5G就不一样了，3GPP组织把接入网(5G NR)和核心网(5G Core)拆开了，要各自独立演进到5G时代。

4G的无线接入称为eLTE，5G基站的无线接入叫 **New Radio**，简称 **NR**。  
在5G的第一阶段，eLTE与NR将沿用和共用4G的核心网。然后网络慢慢演进，NR将接入到自己的核心网，这可能发生在5G的第二阶段。

## 5G的3大场景 ##
1. eMBB: 增强型移动宽带(6GHz以下及以上频段)
2. URLLC: 超可靠低时延通信(6GHz以下频段)，例如无人驾驶等业务。
3. mMTC: 大规模机器通信/大规模物联网(6GHz以下频段)

注意这3个术语，在未来通信中将广泛使用。

## 5G NR ##
3G基站叫NodeB(NB)    
4G基站叫eNB  (enhanced NB)

那5G基站叫什么？  
3GPP给它取了个名，gNB  

5G基站的无线接入叫 **New Radio**，简称 **NR**

5G NR的“自我介绍”
http://www.eefocus.com/communication/408007

## LDPC/Polar ##

不知道朋友们记不记得2017年11月下旬，华为公司主推的**Polar Code**（极化码）方案拿下5G，作为控制信道的编码方案，这个方案便是3PGG制定的三个场景之一的**eMBB**场景，而高通主导的**LDPC**码作为数据信道的编码方案。

根据华为的实际测试来看，Polar码可以同时满足超高速率、低时延、大连接场景的需求，并且能够使蜂窝网络的频谱提升10%左右，与毫米波结合可以达到27Gbps的速率。

对于eMBB场景来说，有了华为这位主力，外加高通的扶持，相信能够将无线通讯技术提升到新的高度。
  

## 4G移动通信网络体系架构 ##
UE (用户设备)  
E-UTRAN（接入网）  
EPC（核心网络）

----------

<div style="float:left;margin:20px;"><img src="https://i.imgur.com/R6We5EX.jpg"  width="" height="230" ></div><div style="float:left;margin:20px;"><img src="https://i.imgur.com/CeM6e4h.jpg"  width="" height="230" ></div><div style="float:left;border:margin:20px;"><img src="https://i.imgur.com/emCLEWe.png"  width="" height="230" ></div><div style="float:left;margin:20px;"><img src="https://i.imgur.com/q8TotHR.jpg"  width="" height="230" ></div>



----------


MME: Mobility Management Entity   
S-GW: Serving GateWay,服务网关  
P-GW: PDN GateWay,PDN 网关  
E-UTRAN: Evolved Universal Terrestrial Radio Access Network   
EPC: Evlved Packet Core 演进分组核心网  
RRC: Radio Resource Control 是指无线资源控制  
PDCP: Packet Data Convergence Protocol 分组数据汇聚协议  
RLC: Radio Link Control 无线链路控制层协议  
PHY: Physical Layer Protocol 物理层协议  

### 用户面和控制面 ###
https://blog.csdn.net/wowricky/article/details/6907715  
用户面走数据   
控制面走信令  

### eNodeB功能 ###
包括物理层功能(HARQ等),MAC,RRC,调度,无线接入控制，移动性管理。



### 网关 ###
大家都知道，从一个房间走到另一个房间，必然要经过一扇门。同样，从一个网络向另一个网络发送信息，也必须经过一道“关口”，这道关口就是网关。顾名思义，网关(Gateway)就是一个网络连接到另一个网络的“关口”。  

假设你的名字叫小不点(很小)，你住在一个大院子里，你的邻居有很多小伙伴，父母是你的**网关**。当你想跟院子里的某个小伙伴玩，只要你在院子里大喊一声他的名字，他听到了就会回应你，并且跑出来跟你玩。

但是你家长不允许你走出大门，你想与外界发生的一切联系，都必须由父母（网关）用电话帮助你联系。假如你想找你的同学小明聊天，小明家住在很远的另外一个院子里，他家里也有父母（小明的网关）。但是你不知道小明家的电话号码，不过你的班主任老师有一份你们班全体同学的名单和电话号码对照表，你的老师就是你的DNS服务器。于是你在家里和父母有了下面的对话：

小不点：妈妈(或爸爸),我想找班主任查一下小明的电话号码行吗？  
家长：好，你等着。（接着你家长给你的班主任挂了一个电话，问清楚了小明的电话）问到了，他家的号码是211.99.99.99
小不点：太好了！妈(或爸),我想找小明，你再帮我联系一下小明吧。  
家长：没问题。（接着家长向电话局发出了请求接通小明家电话的请求，最后一关当然是被转接到了小明家家长那里，然后他家长把电话给转到小明）

就这样你和小明取得了联系。

如果搞清了什么是网关，默认网关也就好理解了。就好像一个房间可以有多扇门一样，一台主机可以有多个网关。默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包。默认网关。默认网关一般填写192.168.x.1





## 重传机制 ##
**ARQ**和**HARQ **   
HARQ: 混合自动重传请求(Hybrid Automatic Repeat reQuest,HARQ)
https://www.jianshu.com/p/f8650640660b  

## BBU与RRU ##
RRU是Remote Radio Unit 远端射频模块，BBU是Building Baseband Unit 室内基带处理单元。  

基带BBU集中放置在机房，RRU可安装至楼层，BBU与RRU之间采用光纤传输，RRU再通过同轴电缆及功分器(耦合器)等连接至天线，即主干采用光纤，支路采用同轴电缆。  

对于下行方向：光纤从BBU直接连到RRU，BBU和RRU之间传输的是基带数字信号，这样基站可以控制某个用户的信号从指定的RRU通道发射出去，这样可以大大降低对本小区其他通道上用户的干扰。  
对于上行方向：用户手机信号被距离最近的通道收到，然后从这个通道经过光纤传到基站，这样也可以大大降低不同通道上用户之间的干扰。

## 有源天线与无源天线 ##
无源天线：它纯粹是一个金属体，是平常看到很普通的各种天线。  
有源天线：是在这普通的天线后加放大器，提高灵敏度，降低信噪比。  

使用GPS天线有源和无源的区别  
http://www.arsgps.com/changjianwenti/30-80.html


## QoS ##

## IP地址 ##
所谓IP地址就是给每个连接在Internet上的主机分配的一个**32bit**地址。按照TCP/IP协议规定，IP地址用二进制来表示，每个IP地址长32bit，比特换算成字节，就是**4个字节**。例如一个采用二进制形式的IP地址是“00001010000000000000000000000001”，这么长的地址，人们处理起来也太费劲了。为了方便人们的使用，IP地址经常被**写成十进制的形式**，中间使用符号“.”分开不同的字节。于是，上面的IP地址可以表示为“10.0.0.1”。IP地址的这种表示法叫做“**点分十进制表示法**”，这显然比1和0容易记忆得多。

每个IP地址都包含两部分:**网络ID和主机ID**。整个Internet上的每个计算机都依靠各自唯一的IP地址来标识。IP地址构成了整个Internet的基础，它是如此重要，每一台联网的计算机无权自行设定IP地址。  有一个统一的机构(IANA)负责对申请的组织分配唯一的网络ID。该申请组织可以对自己的网络中的每一个主机分配一个唯一的主机ID，正如一个单位无权决定自己在所属城市的街道名称和门牌号，但可以自主决定本单位内部的各个办公室编号一样。

根据网络ID和主机ID的不同位数规则，可以将IP地址分为A（7位网络ID和24位主机ID）、B（14位网络ID和16位主机ID）、C（21位网络ID和8位主机ID）三类，由于历史原因和技术发展的差异，A类地址和B类地址几乎分配殆尽，目前能够供全球各国各组织分配的只有C类地址。所以说IP地址是一种非常重要的网络资源。

将IP地址和**子网掩码**进行与运算即可得到网络ID与主机ID。

对于一个设立了因特网服务的组织机构，由于其主机对外开放了诸如WWW、FTP、E-mail等访问服务，通常要对外公布一个固定的IP地址，以方便用户访问。当然，数字IP不便记忆和识别，人们更习惯于通过域名来访问主机，而域名实际上仍然需要被**域名服务器（DNS）**翻译为IP地址。例如，你的主页地址是www.myhost.com ，用户可以方便地记忆和使用，而域名服务器会将这个域名翻译为101.12.123.234，这才是你在网上的真正地址。

对于大多数拨号上网的用户，由于其上网时间和空间的离散性，为每个用户分配一个固定的IP地址（静态IP）是非常不可取的，这将造成IP地址资源的极大浪费。因此这些用户通常会在每次拨通ISP的主机后，自动获得一个**动态的IP地址**，该地址当然不是任意的，而是该ISP申请的网络ID和主机ID的合法区间中的某个地址。拨号用户任意两次连接时的IP地址很可能不同，但是在每次连接时间内IP地址不变。


</br></br></br></br></br></br></br></br>
</br></br></br></br></br></br></br></br>
</br></br></br></br></br></br></br></br>
 
 
 













